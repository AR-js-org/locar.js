import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{P as m,W as f,S as g,o as h,b as p,r as D,B as b,M as k,a as x}from"./locar.es-C46cmtya.js";const o=new m(80,window.innerWidth/window.innerHeight,.001,1e3),i=new f({canvas:document.getElementById("glscene")});i.setSize(window.innerWidth,window.innerHeight);const r=new g,n=new h(r,o);window.addEventListener("resize",e=>{i.setSize(window.innerWidth,window.innerHeight),o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix()});const l=new p({idealWidth:1024,idealHeight:768},null);l.on("webcamstarted",e=>{r.background=e});l.on("webcamerror",(e,s)=>{alert(`Webcam error: name ${e} msg ${s}`)});let d=!0,a=new D(o);n.on("gpsupdate",(e,s)=>{if(d){alert(`Got the initial location: longitude ${e.coords.longitude}, latitude ${e.coords.latitude}`);const c=[{latDis:5e-4,lonDis:0,colour:16711680},{latDis:-5e-4,lonDis:0,colour:16776960},{latDis:0,lonDis:-5e-4,colour:65535},{latDis:0,lonDis:5e-4,colour:65280}],w=new b(10,10,10);for(const t of c){const u=new k(w,new x({color:t.colour}));console.log(`adding at ${e.coords.longitude+t.lonDis},${e.coords.latitude+t.latDis}`),n.add(u,e.coords.longitude+t.lonDis,e.coords.latitude+t.latDis)}d=!1}});n.fakeGps(36.29,59.64);document.getElementById("setFakeLoc").addEventListener("click",e=>{alert("Using fake input GPS, not real GPS location"),n.stopGps(),n.fakeGps(parseFloat(document.getElementById("fakeLon").value),parseFloat(document.getElementById("fakeLat").value))});i.setAnimationLoop(G);function G(){a==null||a.update(),i.render(r,o)}
